a[x]- ыг зөвхөн бүх хүүхдүүд нь өөрөөс нь их оноотой бвал нэмэгдүүлж болно гэдгийг анзаарах хэрэгтэй ба 
mn[x] - ээр бид үр хүүхдүүдийн хамгийн багынхан хамгийн их утгыг хадгалвал анх бүгд mn[i]= 1e9 + 1 (1 <= i <= n) байна 
Хэрвээ
1. a[x] > mn[x] бол бид a[x] ийг нэмэгдүүлж чадаж магадгүйч тэр нь маш буруу үйлдэл болно учир нь x-ын ямар нэгэн эцэг нь min(a[x], mn[x]) ээр нэмэгдүүлж чадах ба a[x]-ыг y-ээр нэмэгдүүлсэн 
гэж үзвэл min(a[x] + y, mn[x] - y) ээр нэмэгдэх ба a[x] > mn[x] тул мэдээж min(a[x] + y, mn[x] - y)= mn[x] - y болох тул s-ыг x-ын эцэг гэвэл mn[s] = min(mn[s], min(mn[x], a[x])) болно
2. a[x] <= mn[x] бол дээр хэлснээр a[x]-ыг y-ээр нэмэгдүүлсэн гэж үзвэл p=min(a[x] + y, mn[x] - y) нэмэгдэх ба энэ утгыг хамгийн их байлгах ба энгийн мат-аар p = (a[x] + mn[x])/2 байх нь мэдээж
Тэгээд үндэсээс нь эхлээд устгаад явна
Хариу нь mn[1] + a[1]
